<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Video Streaming</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #videos {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }
      .video {
        position: relative;
        margin: 20px;
      }
      .video-thumbnail {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.5;
      }
      .video-name {
        text-align: center;
        font-size: 1.2rem;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div id="videos"></div>
    <script>
      const videosUrl = 'videos.json';
      const videosContainer = document.getElementById('videos');

      fetch(videosUrl)
        .then(response => response.json())
        .then(videos => {
          videos.forEach(video => {
            const videoElement = document.createElement('video');
            videoElement.controls = true;
            videoElement.muted = true;
            videoElement.className = 'video';

            const videoThumbnailElement = document.createElement('img');
            videoThumbnailElement.className = 'video-thumbnail';
            videoThumbnailElement.src = video.thumbnail;

            const videoNameElement = document.createElement('div');
            videoNameElement.className = 'video-name';
            videoNameElement.textContent = video.name;

            if (video.isLive) {
              const videoSource = document.createElement('source');
              videoSource.src = video.url;
              videoSource.type = 'application/x-mpegURL';

              videoElement.appendChild(videoSource);
            } else {
              videoElement.src = video.url;
            }

            videoElement.appendChild(videoThumbnailElement);
            videosContainer.appendChild(videoElement);
            videosContainer.appendChild(videoNameElement);
          });
        })
        .catch(error => console.error(error));
    </script>
  </body>
</html>
