<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Video Streaming</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #videos {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }
      .video {
        margin: 20px;
      }
      .video-name {
        text-align: center;
        font-size: 1.2rem;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div id="videos"></div>
    <script>
      const videosUrl = 'videos.json';
      const videosContainer = document.getElementById('videos');

      fetch(videosUrl)
        .then(response => response.json())
        .then(videos => {
          videos.forEach(video => {
            const videoElement = document.createElement('video');
            videoElement.controls = true;
            videoElement.muted = true;
            videoElement.className = 'video';

            const videoNameElement = document.createElement('div');
            videoNameElement.className = 'video-name';
            videoNameElement.textContent = video.name;

            if (video.isLive) {
              fetch(video.url)
                .then(response => response.arrayBuffer())
                .then(buffer => {
                  const blob = new Blob([buffer], { type: video.mimeType });
                  videoElement.src = URL.createObjectURL(blob);
                })
                .catch(error => console.error(error));
            } else {
              videoElement.src = video.url;
            }

            videosContainer.appendChild(videoElement);
            videosContainer.appendChild(videoNameElement);
          });
        })
        .catch(error => console.error(error));
    </script>
  </body>
</html>
